<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>


<meta name="viewport" content="initial-scale=1.0, user-scalable=no" /> 
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/> 
	<title>Walking Tour Viewer</title>
	    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
		<link rel="stylesheet" type="text/css" href="stylesheet.css" />
		<script type="text/javascript"> 
//<![CDATA[
      // this variable will collect the html which will eventually be placed in the side_bar 
      var side_bar_html = ""; 
    
      // arrays to hold copies of the markers and html used by the side_bar 
      // because the function closure trick doesnt work there 
      var gmarkers = []; 
      var map = null;

function initialize() {
  // create the map
  var myOptions = {
    zoom: 15,
    center: new google.maps.LatLng(52.4140,-4.0810),
    mapTypeControl: true,
    mapTypeControlOptions: {style: google.maps.MapTypeControlStyle.DROPDOWN_MENU},
    navigationControl: true,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  }
  map = new google.maps.Map(document.getElementById("map_canvas"),
                                myOptions);
 
  google.maps.event.addListener(map, 'click', function() {
        infowindow.close();
        });

  
  var point = new google.maps.LatLng(52.41404,-4.081866);
  var marker = createMarker(point,"Aberystwyth Train Station","Some stuff to display in the<br>First Info Window")
 
  var point = new google.maps.LatLng(52.416644,-4.081072);
  var marker = createMarker(point,"Scholars","Some stuff to display in the<br>Second Info Window")
 
  var point = new google.maps.LatLng(52.415512,-4.087188);
  var marker = createMarker(point,"The Royal Pier","Some stuff to display in the<br>Third Info Window")

 
  document.getElementById("side_bar").innerHTML = side_bar_html;
}
 
var infowindow = new google.maps.InfoWindow(
  { 
    size: new google.maps.Size(200,75)
  });
    

function myclick(i) {
  google.maps.event.trigger(gmarkers[i], "click");
}


function createMarker(latlng, name, html) {
    var contentString = html;
    var marker = new google.maps.Marker({
        position: latlng,
        map: map,
        zIndex: Math.round(latlng.lat()*-100000)<<5
        });

    google.maps.event.addListener(marker, 'click', function() {
        infowindow.setContent(contentString); 
        infowindow.open(map,marker);
        });
    
    gmarkers.push(marker);
    
    side_bar_html += '<a href="javascript:myclick(' + (gmarkers.length-1) + ')">' + name + '<\/a><br>';
}
 

    // This Javascript is based on code provided by the
    // Community Church Javascript Team
    // http://www.bisphamchurch.org.uk/   
    // http://econym.org.uk/gmap/
    // from the v2 tutorial page at:
    // http://econym.org.uk/gmap/basic2.htm 
//]]>
</script>

<link rel="shortcut icon" href="images/favicon.ico"> 
</head>

  <body style="margin:0px; padding:0px;" onload="initialize()">
	<div id="divwrapper">
	<div id="header">
	<img id="banner" src="images/banner.jpg" align="middle" alt="Banner"  />
    </div>
	

	<div id="divbody">
		<h2>Main Page</h2>
		
	    
	    <p>hello world</p>
	    <p></p>
		<br/>
		
	<table border="1"> 
      <tr> 
        <td> 
           <div id="map_canvas" style="width: 650px; height: 550px"></div> 
        </td> 
        <td valign="top" style="width:200px; text-decoration: underline; color: #4444ff;"> 
           <div id="side_bar"></div> 
        </td> 
      </tr> 
    </table> 
	 
</script> 
<script type="text/javascript"> 
_uacct = "UA-162157-1";
urchinTracker();
</script> 
<script type="text/javascript"><!--
google_ad_client = "pub-8586773609818529";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
google_ad_channel ="";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>

  
	</div>
	 
	<br/>
	
	
	<p>WebPage last modified on:</p>
	<br/>
	<script type="text/javascript">
		document.write(document.lastModified);
	</script>
	
	
	

	
	<div id="divfooter">
	The information provided on this and other pages by me, Stephen Mcfarlane (stm26@aber.ac.uk), is
under my own personal responsibility and not that of Aberystwyth University. Similarly,
any opinions expressed are my own and are in no way to be taken as those of A.U.      
	Website by Stephen McFarlane 2013
	</div>
	
</body>


</html>
